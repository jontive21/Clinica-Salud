doctype html
html(lang="es")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title #{title ? title + ' - SIH' : 'SIH - Sistema de Información Hospitalaria'}
    link(rel="stylesheet" href="/css/bootstrap.min.css") // Asumiendo Bootstrap para estilos básicos. El CSS debe estar en public/css/
    link(rel="stylesheet" href="/css/style.css") // Estilos personalizados. El CSS debe estar en public/css/
    
  body
    header.bg-dark.text-white.p-3.mb-4
      div.container
        a(href="/" style="text-decoration: none; color: white;")
          h1.h3 Sistema de Información Hospitalaria (SIH)

    nav.navbar.navbar-expand-lg.navbar-light.bg-light.mb-4
      div.container
        button.navbar-toggler(type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation")
          span.navbar-toggler-icon
        div.collapse.navbar-collapse#navbarNav
          ul.navbar-nav.me-auto.mb-2.mb-lg-0
            li.nav-item
              a.nav-link(href="/") Inicio

            if usuarioAutenticado
              li.nav-item
                a.nav-link(href="/pacientes") Pacientes
              li.nav-item
                a.nav-link(href="/admisiones") Admisiones
              li.nav-item.dropdown
                a.nav-link.dropdown-toggle(href="#" id="navbarDropdownInfra" role="button" data-bs-toggle="dropdown" aria-expanded="false")
                  | Infraestructura
                ul.dropdown-menu(aria-labelledby="navbarDropdownInfra")
                  li: a.dropdown-item(href="/alas") Alas
                  li: a.dropdown-item(href="/habitaciones") Habitaciones
                  li: a.dropdown-item(href="/camas") Camas
              li.nav-item
                a.nav-link(href="/catalogo-alergias") Catálogo Alergias
              //- Se podrían añadir más enlaces a otros módulos principales aquí si el usuario está autenticado

          // Sección de Autenticación a la derecha
          ul.navbar-nav.ms-auto.mb-2.mb-lg-0
            if usuarioAutenticado
              li.nav-item
                span.navbar-text.me-2 Bienvenido/a, #{nombreUsuarioSesion}
              li.nav-item
                a.nav-link.btn.btn-outline-danger.btn-sm(href="/auth/logout") Cerrar Sesión
            else
              li.nav-item
                a.nav-link.btn.btn-outline-primary.btn-sm(href="/auth/login") Iniciar Sesión

    main.container.mt-4
      block content // Aquí se inyectará el contenido dinámico de las vistas

    footer.bg-light.text-center.text-muted.p-3.mt-5.border-top
      div.container
        p © #{new Date().getFullYear()} Sistema de Información Hospitalaria. Todos los derechos reservados.

    //- Scripts de Bootstrap (opcional, pero común para componentes como el navbar dropdown)
    //- Se asume que si se usa Bootstrap CSS, también se querrá su JS. Deben estar en public/js/
    //- script(src="/js/bootstrap.bundle.min.js")
